<% provide(:title, "Library") %>

<div class="row mt-2">
  <div class="col-lg-1">
    <div class="btn btn-primary" id="select-files" data-controller="video-upload">
      Upload
    </div>
  </div>
  <div class="col-lg-11">
    <% if @videos %>
      <table class="table library-table">
        <thead>
          <tr>
            <th>Title</th>
            <th>Duration</th>
            <th>Views</th>
            <th>Date Added</th>
          </tr>
        </thead>
        <tbody>
          <% @videos.order(created_at: :desc).each do |video| %>
            <tr onclick="window.location = '<%= edit_video_path(video) %>' ">
              <td><%= video.title %></td>
              <td><%= youtube_time(video.duration) if video.duration %></td>
              <td><%= video.minutes %></td>
              <td><%= video.created_at.to_formatted_s(:db) %></td>
            </tr>
          <% end %>
        </tbody>
      </table>
    <% else %>

    <br><p>You don't have any uploaded videos yet. <%= link_to "Upload videos", new_video_path %></p>
    <% end %>
  </div>
</div>



