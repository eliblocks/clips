<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta http-equiv="Accept-CH" content="DPR, Viewport-Width, Width">

    <title><%= full_title(yield(:title)) %></title>

    <% if params[:controller] == 'videos' && params[:action] == 'show' %>
      <meta name="turbolinks-cache-control" content="no-cache">
    <% end %>

    <%= render 'layouts/gtag' %>
    <%= csrf_meta_tags %>
    <%= description_meta_tag(yield(:description)) %>
    <%= stylesheet_link_tag    'application', media: 'all', 'data-turbolinks-track': 'reload' %>
    <%= javascript_include_tag 'application', 'data-turbolinks-track': 'reload' %>

    <script src="https://content.jwplatform.com/libraries/nS0lyy3E.js"> </script>
    <script src="https://js.braintreegateway.com/web/dropin/1.8.0/js/dropin.min.js"></script>
    
  </head>

  <%= content_tag :body, data: { action: action_name, controller: controller_name } do %>
    <% unless params[:controller] == "embeds" || params[:action] == "upload" %> 
      <%= render 'layouts/nav' %>
      <main class="container">
        <% flash.each do |message_type, message| %>
          <%= content_tag(:div, message, class: "alert alert-#{message_type}") %>
        <% end %>
        <%= yield %>
      </main>
      <%= render 'layouts/footer' %>
      <%= render 'shared/auth_modal' unless user_signed_in? %>
    <% else %>
      <%= yield %>
    <% end %>
  <% end %>
</html>







